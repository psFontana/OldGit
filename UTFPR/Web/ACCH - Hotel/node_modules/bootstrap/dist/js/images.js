const addPhotoForm = document.getElementById('addPhotoForm');
const photoList = document.getElementById('photoList').querySelector('ul');

function loadSavedPhotos() {
  const photos = JSON.parse(localStorage.getItem('hotelPhotos')) || [];
  photos.forEach(photo => {
    const listItem = document.createElement('li');
    listItem.className = 'list-group-item d-flex justify-content-between align-items-center';
    listItem.innerHTML = `
      <span>${photo}</span>
      <button class="btn btn-danger btn-sm">Remover</button>
    `;
    photoList.appendChild(listItem);
  });
}

addPhotoForm.addEventListener('submit', (e) => {
  e.preventDefault();
  const photoUrl = document.getElementById('photoUrl').value;
  if (photoUrl) {
    const photos = JSON.parse(localStorage.getItem('hotelPhotos')) || [];
    photos.push(photoUrl);
    localStorage.setItem('hotelPhotos', JSON.stringify(photos));

    const listItem = document.createElement('li');
    listItem.className = 'list-group-item d-flex justify-content-between align-items-center';
    listItem.innerHTML = `
      <span>${photoUrl}</span>
      <button class="btn btn-danger btn-sm">Remover</button>
    `;
    photoList.appendChild(listItem);

    document.getElementById('photoUrl').value = '';
  }
});

photoList.addEventListener('click', (e) => {
  if (e.target.classList.contains('btn-danger')) {
    const item = e.target.closest('li');
    const photoUrl = item.querySelector('span').textContent;

    const photos = JSON.parse(localStorage.getItem('hotelPhotos')) || [];
    const updatedPhotos = photos.filter(photo => photo !== photoUrl);
    localStorage.setItem('hotelPhotos', JSON.stringify(updatedPhotos));

    item.remove();
  }
});

const editDataForm = document.getElementById('editDataForm');
editDataForm.addEventListener('submit', (e) => {
  e.preventDefault();
  const siteDescription = document.getElementById('siteDescription').value;
  const contactInfo = document.getElementById('contactInfo').value;

  localStorage.setItem('hotelDescription', siteDescription);

  localStorage.setItem('contactInfo', contactInfo);

  alert(`Dados salvos!\nDescrição: ${siteDescription}\nContato: ${contactInfo}`);
});

document.addEventListener('DOMContentLoaded', () => {
  loadSavedPhotos();

  const savedDescription = localStorage.getItem('hotelDescription');
  if (savedDescription) {
    document.getElementById('siteDescription').value = savedDescription;
  }

  const savedContactInfo = localStorage.getItem('contactInfo');
  if (savedContactInfo) {
    document.getElementById('contactInfo').value = savedContactInfo;
  }
});
