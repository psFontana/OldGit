<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-10">
            <h2 class="mb-3">Lista de Usuários com Restaurantes Vinculados</h2>
            <div class="table-responsive">
                <table class="table table-striped table-hover table-bordered">
                    <thead class="table-dark">
                        <tr>
                            <th scope="col">Usuário ID</th>
                            <th scope="col">Nome do Usuário</th>
                            <th scope="col">Restaurantes Vinculados</th>
                            <th scope="col">Ações (Usuário)</th>
                        </tr>
                    </thead>
                    <tbody>
                        {{#each usuariosMongo}}
                        <tr>
                            <td>{{id}}</td>
                            <td>{{nome}}</td>
                            <td>
                                {{#if restaurantes.length}}
                                    <ul class="list-unstyled mb-0">
                                        {{#each restaurantes}}
                                            <li>{{this.nome}} (ID: {{this.id}}) 
                                                <a href="/usuarioRestauranteDelete/{{../id}}/{{this.id}}" class="btn btn-sm btn-outline-danger ms-2">Desvincular</a>
                                            </li>
                                        {{/each}}
                                    </ul>
                                {{else}}
                                    Nenhum restaurante vinculado.
                                {{/if}}
                            </td>
                            <td>
                                <a href="/usuarioRestauranteUpdate/{{id}}" class="btn btn-sm btn-outline-info">Editar Usuário</a>
                            </td>
                        </tr>
                        {{/each}}
                    </tbody>
                </table>
            </div>
            {{#unless usuariosMongo}}
                <div class="alert alert-warning text-center" role="alert">
                    Nenhum usuário encontrado.
                </div>
            {{/unless}}
        </div>
    </div>
</div>